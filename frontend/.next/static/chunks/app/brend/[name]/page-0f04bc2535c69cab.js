(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[170],{7888:(e,t,a)=>{Promise.resolve().then(a.bind(a,3805))},3805:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var s=a(7437),n=a(6463),c=a(7138),i=a(2265);function r(){let[e,t]=(0,i.useState)(null),a=(0,n.useParams)(),[r,l]=(0,i.useState)(null);async function u(e){await fetch("".concat("http://127.0.0.1:8000","/set_basket/").concat(e.target.value),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});let t=await fetch("".concat("http://127.0.0.1:8000","/get_basket"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});200==t.status&&l(await t.json())}(0,i.useEffect)(()=>{(async function(){let e=localStorage.getItem("token"),t=await fetch("".concat("http://127.0.0.1:8000","/get_basket"),{headers:{Authorization:"Bearer ".concat(e)}});200==t.status&&l(await t.json())})()},[]),(0,i.useEffect)(()=>{(async function(){let e=await fetch("".concat("http://127.0.0.1:8000/"+decodeURIComponent(a.name)));200==e.status&&t(await e.json())})()},[]);let o=0;return r&&r.map(e=>+Number(e.quantity)).map(e=>o+=e),(0,s.jsxs)("div",{className:"contener_detal",children:[r&&(0,s.jsxs)("div",{className:"baket_naw",children:[(0,s.jsx)("div",{className:"exit",children:(0,s.jsx)(c.default,{href:"/",children:(0,s.jsx)("img",{src:"../img/exit.png",alt:"",width:"24",height:"24"})})}),(0,s.jsxs)("div",{className:"baket",children:[(0,s.jsx)("p",{children:"Корзина"}),(0,s.jsxs)("div",{className:"contener_flex",children:[(0,s.jsx)(c.default,{href:"../basket",children:(0,s.jsx)("img",{className:"baket_img",src:"../img/basket.png",alt:"",width:"24",height:"24"})}),(0,s.jsx)("p",{children:o})]})]})]}),(0,s.jsxs)("div",{className:"padding_2vh ",children:[e&&e.map(e=>(0,s.jsxs)("div",{className:"detail",children:[(0,s.jsx)("h1",{children:e.Manufacturer},e.key+"Manufacturer"),(0,s.jsx)("p",{children:e.Model},e.key+"Model"),(0,s.jsx)("p",{children:e.Product_name},e.key+"Product_name"),(0,s.jsxs)("h3",{children:[e.Price," Руб"]},e.key+"Price"),(0,s.jsx)(c.default,{href:e.Image,children:(0,s.jsx)("img",{src:e.Image,width:"150",height:"200"})},e.key+"link"),(0,s.jsxs)("div",{className:"contener_flex widh_35",children:[(0,s.jsx)("button",{type:"submit",className:"lf--submit",children:" Купить"},e.key+"button"),(0,s.jsx)("button",{type:"button",value:e.key,className:"lf--submit",onClick:u,children:" В корзину"})]},e)]},e.key))," "]})]})}},6463:(e,t,a)=>{"use strict";var s=a(1169);a.o(s,"useParams")&&a.d(t,{useParams:function(){return s.useParams}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}})}},e=>{var t=t=>e(e.s=t);e.O(0,[138,130,215,744],()=>t(7888)),_N_E=e.O()}]);